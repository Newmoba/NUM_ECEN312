# ========================================
# Spartan-3E Starter Kit UCF файл
# DDR санах ой тестийн систем + LCD
# ========================================

# ========================================
# Системийн цаг (50MHz)
# ========================================
NET "clk" LOC = "C9" | IOSTANDARD = LVCMOS33;
NET "clk" TNM_NET = sys_clk_pin;
TIMESPEC TS_sys_clk_pin = PERIOD sys_clk_pin 50000 kHz;

# ========================================
# Reset товч (BTN_NORTH)
# ========================================
NET "rst" LOC = "V4" | IOSTANDARD = LVTTL | PULLDOWN;

# ========================================
# Товчнууд
# BTN_EAST = Write товч
# BTN_WEST = Read товч
# ========================================
NET "btn_wr" LOC = "H13" | IOSTANDARD = LVTTL | PULLDOWN;
NET "btn_rd" LOC = "D18" | IOSTANDARD = LVTTL | PULLDOWN;

# ========================================
# Switch-үүд (SW3-SW0)
# ========================================
NET "sw<0>" LOC = "L13" | IOSTANDARD = LVTTL | PULLUP;
NET "sw<1>" LOC = "L14" | IOSTANDARD = LVTTL | PULLUP;
NET "sw<2>" LOC = "H18" | IOSTANDARD = LVTTL | PULLUP;
NET "sw<3>" LOC = "N17" | IOSTANDARD = LVTTL | PULLUP;

# ========================================
# LED-үүд (LED3-LED0)
# ========================================
NET "led<0>" LOC = "F12" | IOSTANDARD = LVTTL | SLEW = SLOW | DRIVE = 8;
NET "led<1>" LOC = "E12" | IOSTANDARD = LVTTL | SLEW = SLOW | DRIVE = 8;
NET "led<2>" LOC = "E11" | IOSTANDARD = LVTTL | SLEW = SLOW | DRIVE = 8;
NET "led<3>" LOC = "F11" | IOSTANDARD = LVTTL | SLEW = SLOW | DRIVE = 8;

# ========================================
# LCD дэлгэц (16x2 Character LCD)
# 4-bit дата горим
# ========================================
NET "lcd_rs" LOC = "L18" | IOSTANDARD = LVCMOS33 | DRIVE = 4 | SLEW = SLOW;
NET "lcd_rw" LOC = "L17" | IOSTANDARD = LVCMOS33 | DRIVE = 4 | SLEW = SLOW;
NET "lcd_en" LOC = "M18" | IOSTANDARD = LVCMOS33 | DRIVE = 4 | SLEW = SLOW;

NET "lcd_d<0>" LOC = "R15" | IOSTANDARD = LVCMOS33 | DRIVE = 4 | SLEW = SLOW;
NET "lcd_d<1>" LOC = "R16" | IOSTANDARD = LVCMOS33 | DRIVE = 4 | SLEW = SLOW;
NET "lcd_d<2>" LOC = "P17" | IOSTANDARD = LVCMOS33 | DRIVE = 4 | SLEW = SLOW;
NET "lcd_d<3>" LOC = "M15" | IOSTANDARD = LVCMOS33 | DRIVE = 4 | SLEW = SLOW;

# ========================================
# DDR SDRAM холболт
# Micron MT46V32M16 - 512Mbit DDR SDRAM
# ========================================

# DDR Clock
NET "ddr_clk" LOC = "G3" | IOSTANDARD = SSTL2_I;

# DDR Command сигналууд
NET "ddr_ras" LOC = "L1" | IOSTANDARD = SSTL2_I;
NET "ddr_cas" LOC = "L4" | IOSTANDARD = SSTL2_I;
NET "ddr_we"  LOC = "M3" | IOSTANDARD = SSTL2_I;

# DDR Bank Address (BA1-BA0)
NET "ddr_ba<0>" LOC = "K5" | IOSTANDARD = SSTL2_I;
NET "ddr_ba<1>" LOC = "K6" | IOSTANDARD = SSTL2_I;

# DDR Row/Column Address (A12-A0)
NET "ddr_a<0>"  LOC = "T1" | IOSTANDARD = SSTL2_I;
NET "ddr_a<1>"  LOC = "R3" | IOSTANDARD = SSTL2_I;
NET "ddr_a<2>"  LOC = "R2" | IOSTANDARD = SSTL2_I;
NET "ddr_a<3>"  LOC = "P1" | IOSTANDARD = SSTL2_I;
NET "ddr_a<4>"  LOC = "F4" | IOSTANDARD = SSTL2_I;
NET "ddr_a<5>"  LOC = "H4" | IOSTANDARD = SSTL2_I;
NET "ddr_a<6>"  LOC = "H3" | IOSTANDARD = SSTL2_I;
NET "ddr_a<7>"  LOC = "H1" | IOSTANDARD = SSTL2_I;
NET "ddr_a<8>"  LOC = "H2" | IOSTANDARD = SSTL2_I;
NET "ddr_a<9>"  LOC = "N4" | IOSTANDARD = SSTL2_I;
NET "ddr_a<10>" LOC = "T2" | IOSTANDARD = SSTL2_I;
NET "ddr_a<11>" LOC = "N5" | IOSTANDARD = SSTL2_I;
NET "ddr_a<12>" LOC = "P2" | IOSTANDARD = SSTL2_I;

# ========================================
# Тайлбар:
# - SSTL2_I: Stub Series Terminated Logic (DDR-д зориулсан)
# - LVCMOS33: Ердийн 3.3V логик (LCD, LED, Switch)
# - PULLUP/PULLDOWN: Товч, switch-ийн тогтворгүй төлөв засах
# - SLEW=SLOW: Дохионы шуугианыг багасгах
# - DRIVE: Гаралтын хүчдэл (4-8mA)
# ========================================
